// Шаблони японських кросвордів

function loadTemplate(template) {
    if (template === 'heart') {
        gridSize = {width: 9, height: 9};
        solution = [
            [0,1,1,0,1,1,0,0,0],
            [1,1,1,1,1,1,1,0,0],
            [1,1,1,1,1,1,1,0,0],
            [1,1,1,1,1,1,1,0,0],
            [0,1,1,1,1,1,0,0,0],
            [0,0,1,1,1,0,0,0,0],
            [0,0,0,1,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0]
        ];
    } else if (template === 'star') {
        gridSize = {width: 9, height: 9};
        solution = [
            [0,0,0,0,1,0,0,0,0],
            [0,0,0,1,1,1,0,0,0],
            [0,0,0,1,1,1,0,0,0],
            [1,1,1,1,1,1,1,1,1],
            [0,1,1,1,1,1,1,1,0],
            [0,0,1,1,1,1,1,0,0],
            [0,1,1,0,1,0,1,1,0],
            [1,1,0,0,1,0,0,1,1],
            [1,0,0,0,0,0,0,0,1]
        ];
    } else if (template === 'house') {
        gridSize = {width: 9, height: 9};
        solution = [
            [0,0,0,0,1,0,0,0,0],
            [0,0,0,1,1,1,0,0,0],
            [0,0,1,1,1,1,1,0,0],
            [0,1,1,1,1,1,1,1,0],
            [1,1,1,1,1,1,1,1,1],
            [1,0,1,1,1,1,1,0,1],
            [1,0,1,0,0,0,1,0,1],
            [1,0,1,0,0,0,1,0,1],
            [1,1,1,0,0,0,1,1,1]
        ];
    } else if (template === 'hard') {
        gridSize = {width: 5, height: 5};
        solution = [
            [1,1,0,1,1],
            [1,1,0,1,1],
            [0,0,0,0,0],
            [1,0,0,0,1],
            [0,1,1,1,0]
        ];
    } else if (template === 'complex') {
        // Складний кросворд 32×50 для І-АБО графа
        gridSize = {width: 32, height: 50};

        // Підказки для рядків (зчитані з зображення)
        rowHints = [
            [9], [14], [18], [23], [26], [27], [28], [29], [30], [30], [31],
            [2,12,14], [1,13,13], [13,11], [13,7], [14,5], [14,1], [14,1],
            [13,3,1], [13,2,2,3], [13,2,2,1], [5,3,1,1,1,1], [4,3,2,2],
            [2,1,3,4,3], [4,1,3,5,3,1], [8,1,3,3,1], [7,1,4,2,1],
            [5,1,3,3], [5,1,1,2], [4,2,1], [4,2,2], [4,1,2,1],
            [4,3,1], [3,3,1], [3,1,2], [2,1,7], [2,1,3,2],
            [1,2,2,1], [1,2,1,1], [1,1], [2,1], [2], [3,1],
            [6,2], [10,3], [18], [13], [15], [16], [17]
        ];

        // Підказки для колонок (правильні, вертикально)
        colHints = [
            [9,14], [9,12], [9,10], [9,8], [17,5,1], [20,3,2], [26,3], [25,3],
            [23,4], [30,5], [22,2,4,6], [21,2,2,7], [21,3,8], [21,2,1,8],
            [29,8], [28,7], [11,15,7], [11,6,6], [11,6], [11,1,6],
            [11,2,3,2,5], [11,1,3,2,1], [11,2,3,1,1], [12,2,3,2,1],
            [12,2,2,1,1], [12,1,2,1,1], [11,2,1,2], [10,2,1,1,2,1,1],
            [9,2,2,2,1,2,2], [7,4,3,2,6,3], [4,5,4,1,3], [3,4]
        ];

        // Генеруємо порожнє рішення - користувач має розв'язати самостійно
        solution = Array(50).fill().map(() => Array(32).fill(0));

        createGrid();
        resetGame();
        updateDisplay();

        document.getElementById('gridWidth').value = gridSize.width;
        document.getElementById('gridHeight').value = gridSize.height;

        addLogEntry('Складний кросворд 32×50 завантажено!', 'rule3');
        addLogEntry('Рядків: 50, Колонок: 32', 'rule3');
        addLogEntry('Цей кросворд потребує І-АБО граф для розв\'язання', 'rule3');
        updateStatus('Великий складний кросворд - ідеально для І-АБО графа!');
        return;
    }

    calculateHints();
    createGrid();
    resetGame();
    updateDisplay();

    document.getElementById('gridWidth').value = gridSize.width;
    document.getElementById('gridHeight').value = gridSize.height;

    if (template === 'hard') {
        setTimeout(() => {
            addLogEntry('Складний шаблон - цей кросворд потребує більше правил!', 'error');
            addLogEntry('Спробуйте "Один крок" кілька разів, щоб побачити межі алгоритму', '');
            updateStatus('Складний кросворд завантажено!');
        }, 100);
    }
}